import subprocess
import optparse
parse_object = optparse.OptionParser()
parse_object.add_option("-i", "--interface", dest="interface", help="interface to change")
parse_object.add_option("-m", "--mac", dest="mac_address")
user_inputs, arguments = parse_object.parse_args()
subprocess.call(["ifconfig", user_inputs.interface, "down"])
subprocess.call(["ifconfig", user_inputs.interface, "hw", "ether", user_inputs.mac_address])
subprocess.call(["ifconfig", user_inputs.interface, "up"])

BU KODU YAZMIÞTIK.



DÜZENLEMEK
----------
import subprocess
import optparse

def get_user_input():
     parse_object=optparse.OptionParser()
     parse_object.add_option("-i","--interface", dest="interface", help="interface to change")
     parse_object.add_option("-m","--mac", dest="mac_address")
     return parse_object.parse_args()

def change_mac_address(user_interface, user_mac_address):
      subprocess.call(["ifconfig",user_interface,"down"])
      subprocess.call(["ifconfig", user_interface,"hw","ether",user_mac_address])
      subprocess.call(["ifconfig", user_interface,"up"])

(user_input, arguments)=get_user_input()
change_mac_address(user_input.interface, user_input.mac_address)



MAC ADRESÝ DEÐÝÞTÝ MÝ HABER VERSÝN
----------------------------------
import subprocess
import optparse

def get_user_input():
     parse_object=optparse.OptionParser()
     parse_object.add_option("-i","--interface", dest="interface", help="interface to change")
     parse_object.add_option("-m","--mac", dest="mac_address")
     return parse_object.parse_args()

def change_mac_address(user_interface, user_mac_address):
     subprocess.call(["ifconfig",user_interface,"down"])
     subprocess.call(["ifconfig", user_interface,"hw","ether",user_mac_address])
     subprocess.call(["ifconfig", user_interface,"up"])

def control_new_mac(interface):
     ifconfig=subprocess.check_output(["ifconfig", interface])  #terminale yazýnca çýkan metni
                                                                ifconfige eþitler.
     print(ifconfig)
   

(user_input, arguments)=get_user_input()
change_mac_address(user_input.interface, user_input.mac_address)
control_new_mac(user_input.interface)

BU ÞEKÝLDE BAKARAK KONTROL EDEBÝLÝR ANCAK REGEX KODU ÝLE DÝREKT YANIT VEREBÝLÝRÝZ.



REGEX ÝLE YANIT VERMEK
----------------------
import subprocess
import optparse
import re

def get_user_input():
     parse_object=optparse.OptionParser()
     parse_object.add_option("-i","--interface", dest="interface", help="interface to change")
     parse_object.add_option("-m","--mac", dest="mac_address")
     return parse_object.parse_args()

def change_mac_address(user_interface, user_mac_address):
     subprocess.call(["ifconfig",user_interface,"down"])
     subprocess.call(["ifconfig", user_interface,"hw","ether",user_mac_address])
     subprocess.call(["ifconfig", user_interface,"up"])

def control_new_mac(interface):
     ifconfig=subprocess.check_output(["ifconfig", interface])  #terminale yazýnca çýkan metni
                                                                ifconfige eþitler.
     new_mac=re.search(r"\w\w:\w\w:\w\w:\w\w:\w\w:\w\w", ifconfig)  #str döndürmez.

     if new_mac:
          return new_mac.group(0)   #str'i böyle alýrýz. 0->gelen ilk sonuç
     else:
          None
   

(user_input, arguments)=get_user_input()
change_mac_address(user_input.interface, user_input.mac_address)
finalized_mac=control_new_mac(user_input.interface)

if finalized_mac==user_input.mac_address:
     print("Success!")
else:
     print("Error!")



\w KULLANACAÐIMIZI REGEX101.COM SÝTESÝNDEN BAKARAK BULDUK.

***try ve except komutlarý ile kullanýcý sadece my_mac_changer.py yazýp deðer vermeyerek çalýþtýrýrsa ne yapýlacaðýný söyleyebilirsin.